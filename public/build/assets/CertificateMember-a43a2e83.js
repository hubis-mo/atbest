import{O as C}from"./OrganizationLayout-e59c3130.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import{i,o as d,c as p,w as o,b as l,f as r,t as s,d as _,F as y,e as c,a as O}from"./app-78468d3b.js";import"./DropdownLink-c7da729b.js";import"./TeamOutlined-f908f4bf.js";import"./PieChartOutlined-7a16d42c.js";import"./FormOutlined-55ddf1ad.js";const U={components:{OrganizationLayout:C},props:["organization","certificate","members"],data(){return{modal:{isOpen:!1,data:{},title:"Modal",mode:""},columns:[{title:"Display_name",dataIndex:"display_name",pivot:!0},{title:"Number",dataIndex:"number_display",pivot:!0},{title:"Issue Date",dataIndex:"issue_date",pivot:!0},{title:"Valid From",dataIndex:"valid_from",pivot:!0},{title:"Valid Until",dataIndex:"valid_until",pivot:!0},{title:"Action",dataIndex:"operation",key:"operation"}],rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){},methods:{viewRecord(n){this.modal.data={...n},this.modal.mode="EDIT",this.modal.title="修改",this.modal.isOpen=!0}}},D=O("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Members ",-1);function R(n,t,f,V,e,g){const v=i("a-button"),k=i("a-table"),m=i("a-input"),u=i("a-form-item"),x=i("a-form"),z=i("a-modal"),I=i("OrganizationLayout");return d(),p(I,{title:"Dashboard",organization:f.organization},{header:o(()=>[D]),default:o(()=>[l(k,{dataSource:f.members,columns:e.columns},{bodyCell:o(({column:a,text:h,record:b,index:q})=>[a.dataIndex=="operation"?(d(),p(v,{key:0,onClick:E=>g.viewRecord(b)},{default:o(()=>[r(s(n.$t("view")),1)]),_:2},1032,["onClick"])):a.pivot?(d(),_(y,{key:1},[r(s(b.pivot[a.dataIndex]),1)],64)):(d(),_(y,{key:2},[r(s(b[a.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"]),l(z,{visible:e.modal.isOpen,"onUpdate:visible":t[7]||(t[7]=a=>e.modal.isOpen=a),title:e.modal.title,width:"60%"},{footer:o(()=>[e.modal.mode=="EDIT"?(d(),p(v,{key:"Update",type:"primary",onClick:t[5]||(t[5]=a=>n.updateRecord())},{default:o(()=>[r(s(n.$t("update")),1)]),_:1})):c("",!0),e.modal.mode=="CREATE"?(d(),p(v,{key:"Store",type:"primary",onClick:t[6]||(t[6]=a=>n.storeRecord())},{default:o(()=>[r(s(n.$t("add")),1)]),_:1})):c("",!0)]),default:o(()=>[l(x,{ref:"modalRef",model:e.modal.data,name:"Teacher","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",rules:e.rules,"validate-messages":e.validateMessages},{default:o(()=>[l(m,{type:"hidden",value:e.modal.data.id,"onUpdate:value":t[0]||(t[0]=a=>e.modal.data.id=a)},null,8,["value"]),l(u,{label:"姓名(中文)",name:"name_zh"},{default:o(()=>[l(m,{value:e.modal.data.name_zh,"onUpdate:value":t[1]||(t[1]=a=>e.modal.data.name_zh=a)},null,8,["value"])]),_:1}),l(u,{label:"姓名(外文)",name:"name_zh"},{default:o(()=>[l(m,{value:e.modal.data.name_fn,"onUpdate:value":t[2]||(t[2]=a=>e.modal.data.name_fn=a)},null,8,["value"])]),_:1}),l(u,{label:"別名",name:"nickname"},{default:o(()=>[l(m,{value:e.modal.data.nickname,"onUpdate:value":t[3]||(t[3]=a=>e.modal.data.nickname=a)},null,8,["value"])]),_:1}),l(u,{label:"手機",name:"mobile"},{default:o(()=>[l(m,{value:e.modal.data.mobile,"onUpdate:value":t[4]||(t[4]=a=>e.modal.data.mobile=a)},null,8,["value"])]),_:1})]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])]),_:1},8,["organization"])}const A=w(U,[["render",R]]);export{A as default};
