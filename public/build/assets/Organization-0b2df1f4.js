import{O as R}from"./OrganizationLayout-e59c3130.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import{i,o as s,c as h,w as l,b as n,d as _,f as d,t as r,F as g,e as v,a as E}from"./app-78468d3b.js";import"./DropdownLink-c7da729b.js";import"./TeamOutlined-f908f4bf.js";import"./PieChartOutlined-7a16d42c.js";import"./FormOutlined-55ddf1ad.js";const S={components:{OrganizationLayout:R},props:["organizations"],data(){return{modal:{isOpen:!1,data:{},title:"Modal",mode:""},teacherStateLabels:{},columns:[{title:"Abbr.",dataIndex:"abbr"},{title:"Full Name",dataIndex:"full_name"},{title:"Country",dataIndex:"country"},{title:"Phone",dataIndex:"phone"},{title:"Email",dataIndex:"email"},{title:"Action",dataIndex:"operation",key:"operation"}],rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){},methods:{editRecord(e){this.modal.data={...e},this.modal.mode="EDIT",this.modal.title="修改",this.modal.isOpen=!0},storeRecord(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post("/admin/teachers/",this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1},onError:e=>{console.log(e)}})}).catch(e=>{console.log(e)})},updateRecord(){console.log(this.modal.data),this.$refs.modalRef.validateFields().then(()=>{this.$inertia.patch("/admin/teachers/"+this.modal.data.id,this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1,console.log(e)},onError:e=>{console.log(e)}})}).catch(e=>{console.log("error",e)})},deleteRecord(e){console.log(e),confirm("Are you sure want to remove?")&&this.$inertia.delete("/admin/teachers/"+e,{onSuccess:a=>{console.log(a)},onError:a=>{console.log(a)}})},createLogin(e){console.log("create login"+e)}}},w=E("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Club Managemnet ",-1);function U(e,a,y,F,t,c){const f=i("a-button"),b=i("inertia-link"),k=i("a-table"),m=i("a-input"),p=i("a-form-item"),x=i("a-form"),z=i("a-modal"),C=i("OrganizationLayout");return s(),h(C,{title:"Dashboard"},{header:l(()=>[w]),default:l(()=>[n(k,{dataSource:y.organizations,columns:t.columns},{bodyCell:l(({column:o,text:O,record:u,index:L})=>[o.dataIndex=="operation"?(s(),_(g,{key:0},[n(f,{onClick:q=>c.editRecord(u)},{default:l(()=>[d(r(e.$t("view")),1)]),_:2},1032,["onClick"]),n(b,{href:e.route("organizations.edit",u.id),class:"ant-btn"},{default:l(()=>[d(r(e.$t("edit")),1)]),_:2},1032,["href"]),n(b,{href:e.route("organization.members.index",u.id),class:"ant-btn"},{default:l(()=>[d("Members")]),_:2},1032,["href"]),n(b,{href:e.route("organization.forms.index",u.id),class:"ant-btn"},{default:l(()=>[d("Forms")]),_:2},1032,["href"])],64)):o.dataIndex=="state"?(s(),_(g,{key:1},[d(r(t.teacherStateLabels[O]),1)],64)):(s(),_(g,{key:2},[d(r(u[o.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"]),n(z,{visible:t.modal.isOpen,"onUpdate:visible":a[7]||(a[7]=o=>t.modal.isOpen=o),title:t.modal.title,width:"60%"},{footer:l(()=>[t.modal.mode=="EDIT"?(s(),h(f,{key:"Update",type:"primary",onClick:a[5]||(a[5]=o=>c.updateRecord())},{default:l(()=>[d(r(e.$t("update")),1)]),_:1})):v("",!0),t.modal.mode=="CREATE"?(s(),h(f,{key:"Store",type:"primary",onClick:a[6]||(a[6]=o=>c.storeRecord())},{default:l(()=>[d(r(e.$t("add")),1)]),_:1})):v("",!0)]),default:l(()=>[n(x,{ref:"modalRef",model:t.modal.data,name:"Teacher","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",rules:t.rules,"validate-messages":t.validateMessages},{default:l(()=>[n(m,{type:"hidden",value:t.modal.data.id,"onUpdate:value":a[0]||(a[0]=o=>t.modal.data.id=o)},null,8,["value"]),n(p,{label:"姓名(中文)",name:"name_zh"},{default:l(()=>[n(m,{value:t.modal.data.name_zh,"onUpdate:value":a[1]||(a[1]=o=>t.modal.data.name_zh=o)},null,8,["value"])]),_:1}),n(p,{label:"姓名(外文)",name:"name_zh"},{default:l(()=>[n(m,{value:t.modal.data.name_fn,"onUpdate:value":a[2]||(a[2]=o=>t.modal.data.name_fn=o)},null,8,["value"])]),_:1}),n(p,{label:"別名",name:"nickname"},{default:l(()=>[n(m,{value:t.modal.data.nickname,"onUpdate:value":a[3]||(a[3]=o=>t.modal.data.nickname=o)},null,8,["value"])]),_:1}),n(p,{label:"手機",name:"mobile"},{default:l(()=>[n(m,{value:t.modal.data.mobile,"onUpdate:value":a[4]||(a[4]=o=>t.modal.data.mobile=o)},null,8,["value"])]),_:1})]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])]),_:1})}const P=I(S,[["render",U]]);export{P as default};
