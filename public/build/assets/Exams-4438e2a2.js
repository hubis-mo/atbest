import{O as U}from"./OrganizationLayout-e59c3130.js";import{C as D,_ as g,a as F}from"./ImageUploadAdapter-1b833612.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import{i as n,o as c,c as h,w as l,a as p,t as r,b as i,f as d,d as b,F as y,e as v}from"./app-78468d3b.js";import"./DropdownLink-c7da729b.js";import"./TeamOutlined-f908f4bf.js";import"./PieChartOutlined-7a16d42c.js";import"./FormOutlined-55ddf1ad.js";const $={components:{OrganizationLayout:U,ckeditor:D.component,UploadAdapter:g},props:["exams"],data(){return{dateFormat:"YYYY-MM-DD",modal:{isOpen:!1,data:{},title:"Modal",mode:""},teacherStateLabels:{},editor:F,editorData:"<p>Content of the editor.</p>",editorConfig:{extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=t=>new g(t)}]},columns:[{title:"Title",i18n:"title",dataIndex:"title"},{title:"Category",i18n:"category_code",dataIndex:"category_code"},{title:"Operation",i18n:"operation",dataIndex:"operation",key:"operation"}],rules:{category_code:{required:!0},classify_id:{required:!0},title_en:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){},mounted(){},methods:{createRecord(){this.modal.data={},this.modal.data.published=0,this.modal.mode="CREATE",this.modal.title="Create",this.modal.isOpen=!0},editRecord(e){this.modal.data={...e},this.modal.mode="EDIT",this.modal.isOpen=!0},storeRecord(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("manage.exams.store"),this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1},onError:e=>{console.log(e)}})}).catch(e=>{console.log(e)})},updateRecord(){console.log(this.modal.data),this.$refs.modalRef.validateFields().then(()=>{this.$inertia.put(route("manage.exams.update",this.modal.data.id),this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1,console.log(e)},onError:e=>{console.log(e)}})}).catch(e=>{console.log("error",e)})},deleteConfirmed(e){this.$inertia.delete(route("manage.exams.destroy",e.id),{onSuccess:t=>{console.log(t)},onError:t=>{console.log(t)}})},deleteRecord(e){confirm("Are you sure want to remove?")&&this.$inertia.delete(route("manage.exams.destroy",e),{onSuccess:t=>{console.log(t)},onError:t=>{console.log(t)}})},createLogin(e){console.log("create login"+e)},uploader(e){e.plugins.get("FileRepository").createUploadAdapter=t=>new g(t)}}},q={class:"font-semibold text-xl text-gray-800 leading-tight"},A={class:"flex-auto pb-3 text-right"},T={class:"container mx-auto pt-5"},L={class:"bg-white relative shadow rounded-lg overflow-x-auto"};function M(e,t,x,B,o,m){const u=n("a-button"),_=n("inertia-link"),C=n("a-table"),k=n("a-input"),f=n("a-form-item"),R=n("ckeditor"),E=n("a-switch"),w=n("a-form"),O=n("a-modal"),S=n("OrganizationLayout");return c(),h(S,{title:"Dashboard"},{header:l(()=>[p("h2",q,r(e.$t("exam")),1)]),default:l(()=>[p("div",A,[i(u,{onClick:t[0]||(t[0]=a=>m.createRecord())},{default:l(()=>[d("Create")]),_:1})]),p("div",T,[p("div",L,[i(C,{dataSource:x.exams,columns:o.columns},{headerCell:l(({column:a})=>[d(r(a.i18n?e.$t(a.i18n):a.title),1)]),bodyCell:l(({column:a,text:N,record:s,index:Y})=>[a.dataIndex=="operation"?(c(),b(y,{key:0},[i(u,{onClick:V=>m.editRecord(s)},{default:l(()=>[d("Edit")]),_:2},1032,["onClick"]),i(u,{disabled:s.published,onClick:V=>m.deleteRecord(s)},{default:l(()=>[d(r(e.$t("delete")),1)]),_:2},1032,["disabled","onClick"]),i(_,{href:e.route("manage.exam.questions.index",s.id),class:"ant-btn"},{default:l(()=>[d("Questions")]),_:2},1032,["href"]),i(_,{href:e.route("manage.exam.papers.index",s.id),class:"ant-btn"},{default:l(()=>[d("Papers")]),_:2},1032,["href"])],64)):(c(),b(y,{key:1},[d(r(s[a.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])])]),i(O,{visible:o.modal.isOpen,"onUpdate:visible":t[6]||(t[6]=a=>o.modal.isOpen=a),title:o.modal.title},{footer:l(()=>[o.modal.mode=="EDIT"?(c(),h(u,{key:"Update",type:"primary",onClick:t[4]||(t[4]=a=>m.updateRecord())},{default:l(()=>[d(r(e.$t("update")),1)]),_:1})):v("",!0),o.modal.mode=="CREATE"?(c(),h(u,{key:"Store",type:"primary",onClick:t[5]||(t[5]=a=>m.storeRecord())},{default:l(()=>[d(r(e.$t("add")),1)]),_:1})):v("",!0)]),default:l(()=>[i(w,{ref:"modalRef",model:o.modal.data,name:"Exams",layout:"vertical",autocomplete:"off",rules:o.rules,"validate-messages":o.validateMessages},{default:l(()=>[i(f,{label:e.$t("exam_title"),name:"title"},{default:l(()=>[i(k,{value:o.modal.data.title,"onUpdate:value":t[1]||(t[1]=a=>o.modal.data.title=a)},null,8,["value"])]),_:1},8,["label"]),i(f,{label:e.$t("exam_description"),name:"description"},{default:l(()=>[i(R,{editor:o.editor,modelValue:o.modal.data.description,"onUpdate:modelValue":t[2]||(t[2]=a=>o.modal.data.description=a),config:o.editorConfig},null,8,["editor","modelValue","config"])]),_:1},8,["label"]),i(f,{label:e.$t("published"),name:"published"},{default:l(()=>[i(E,{checked:o.modal.published,"onUpdate:checked":t[3]||(t[3]=a=>o.modal.published=a),checkedValue:"true",unCheckValue:"false"},null,8,["checked"])]),_:1},8,["label"])]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])]),_:1})}const W=I($,[["render",M]]);export{W as default};
