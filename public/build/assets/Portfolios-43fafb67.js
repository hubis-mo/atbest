import{M as S}from"./MemberLayout-005a6312.js";import{q as T}from"./index-d20420be.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{i,o as r,c as f,w as l,a as s,b as d,d as _,f as m,t as b,F as x,e as h}from"./app-78468d3b.js";import"./NavLink-d1da715f.js";import"./DropdownLink-c7da729b.js";import"./ResponsiveNavLink-51fcef62.js";const A={components:{MemberLayout:S,quillEditor:T},props:["member"],data(){return{modal:{isOpen:!1,data:{},title:"Modal",mode:""},columns:[{title:"Abbreviation",dataIndex:"abbreviation"},{title:"Title",dataIndex:"title"},{title:"validated at",dataIndex:"valid_at"},{title:"Expired at",dataIndex:"expired_at"},{title:"Accredited",dataIndex:"accredited"},{title:"操作",dataIndex:"operation",key:"operation"}],rules:{field:{required:!0},label:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},virticalStyle:{display:"flex",height:"30px",lineHeight:"30px",marginLeft:"8px"}}},created(){},methods:{createRecord(e){this.modal.data={},this.modal.mode="CREATE",this.modal.isOpen=!0},editRecord(e){console.log(e),this.modal.data={...e},this.modal.mode="EDIT",this.modal.isOpen=!0},storeRecord(){console.log(this.modal.data),this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("member.portfolios.store"),this.modal.data,{onSuccess:e=>{this.modal.isOpen=!1},onError:e=>{console.log(e)}})}).catch(e=>{console.log(e)})},updateRecord(){console.log(this.modal.data),this.$refs.modalRef.validateFields().then(()=>{this.modal.data._method="PATCH",this.$inertia.post(route("member.porfolios.update",this.modal.data.id),this.modal.data,{onSuccess:e=>{this.modal.isOpen=!1,console.log(e)},onError:e=>{console.log(e)}})}).catch(e=>{console.log("error",e)})},deleteRecord(e){confirm("Are you sure want to remove?")&&this.$inertia.delete(route("member.porfolios.destroy",{form:e.id}),{onSuccess:o=>{console.log(o)},onError:o=>{alert(o.message)}})}}},M=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Personal Profile ",-1),N={class:"py-12"},O=s("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[s("div",{class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5 h-64"},[s("p",null,"Comming Soon..."),s("p",null,"Records of your personal experience and documents.")])],-1),U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 invisible"},D={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-5"};function F(e,o,g,B,t,n){const p=i("a-button"),y=i("a-table"),C=i("a-select"),u=i("a-form-item"),v=i("a-input"),R=i("quill-editor"),w=i("a-form"),k=i("a-modal"),E=i("MemberLayout");return r(),f(E,{title:"Dashboard"},{header:l(()=>[M]),default:l(()=>[s("div",N,[O,s("div",U,[s("button",{onClick:o[0]||(o[0]=a=>n.createRecord()),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded my-3"},"Create new record"),s("div",D,[d(y,{dataSource:g.member.portfolios,columns:t.columns},{bodyCell:l(({column:a,text:L,record:c,index:P})=>[a.dataIndex=="operation"?(r(),_(x,{key:0},[d(p,{onClick:I=>n.editRecord(c)},{default:l(()=>[m(b(e.$t("edit")),1)]),_:2},1032,["onClick"]),d(p,{onClick:I=>n.deleteRecord(c.id)},{default:l(()=>[m(b(e.$t("delete")),1)]),_:2},1032,["onClick"])],64)):(r(),_(x,{key:1},[m(b(c[a.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])])])]),d(k,{visible:t.modal.isOpen,"onUpdate:visible":o[7]||(o[7]=a=>t.modal.isOpen=a),title:t.modal.mode=="CREATE"?"新增":"修改",width:"60%"},{footer:l(()=>[t.modal.mode=="EDIT"?(r(),f(p,{key:"Update",type:"primary",onClick:o[5]||(o[5]=a=>n.updateRecord())},{default:l(()=>[m("更新")]),_:1})):h("",!0),t.modal.mode=="CREATE"?(r(),f(p,{key:"Store",type:"primary",onClick:o[6]||(o[6]=a=>n.storeRecord())},{default:l(()=>[m("新增")]),_:1})):h("",!0)]),default:l(()=>[d(w,{ref:"modalRef",model:t.modal.data,name:"From","label-col":{span:6},"wrapper-col":{span:18},autocomplete:"off",rules:t.rules,"validate-messages":t.validateMessages},{default:l(()=>[d(u,{label:"Name",name:"name"},{default:l(()=>[d(C,{value:t.modal.data.approbate_id,"onUpdate:value":o[1]||(o[1]=a=>t.modal.data.approbate_id=a),options:e.approbates,fieldNames:{value:"id",label:"name"}},null,8,["value","options"])]),_:1}),d(u,{label:"Name",name:"name"},{default:l(()=>[d(v,{value:t.modal.data.name,"onUpdate:value":o[2]||(o[2]=a=>t.modal.data.name=a)},null,8,["value"])]),_:1}),d(u,{label:"Title",name:"title"},{default:l(()=>[d(v,{value:t.modal.data.title,"onUpdate:value":o[3]||(o[3]=a=>t.modal.data.title=a)},null,8,["value"])]),_:1}),d(u,{label:"Description",name:"description"},{default:l(()=>[d(R,{value:t.modal.data.description,"onUpdate:value":o[4]||(o[4]=a=>t.modal.data.description=a),style:{"min-height":"200px"}},null,8,["value"])]),_:1})]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])]),_:1})}const Q=q(A,[["render",F]]);export{Q as default};
