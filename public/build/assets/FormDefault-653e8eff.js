import{M as H}from"./MemberLayout-005a6312.js";import{_ as P}from"./WebLayout-0d81791d.js";import{_ as R}from"./CropperModal-92f58e74.js";import{q as W}from"./index-d20420be.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import{i as s,o as r,c as v,w as l,a as m,b as o,f as _,t as p,d as n,h as y,F as h,e as k,k as x}from"./app-78468d3b.js";import"./NavLink-d1da715f.js";import"./DropdownLink-c7da729b.js";import"./ResponsiveNavLink-51fcef62.js";import"./UploadOutlined-e5283a52.js";const J={components:{MemberLayout:H,WebLayout:P,quillEditor:W,CropperModal:R},props:["form"],data(){return{formData:{},avatarPreview:null,showCropModal:"",richText:"<p>Jose</p>",dateFormat:"YYYY-MM-DD",dateTimeFormat:"YYYY-MM-DD HH:mm",columns:[{title:"Name",dataIndex:"name"},{title:"Title",dataIndex:"title"},{title:"With Login",dataIndex:"with_login"},{title:"With Member",dataIndex:"with_member"},{title:"Action",dataIndex:"operation",key:"operation"}],rules:{field:{required:!0},label:{required:!0}},validateMessages:{required:"必填欄位 ",types:{email:"不是有效電郵",number:"不是數字格式"},number:{range:"必須介於 ${min} 至 ${max}"}},labelCol:{style:{width:"150px"}},verticalStyle:{display:"flex",height:"30px",lineHeight:"30px",width:"100%",marginLeft:"20px"}}},created(){},methods:{setCroppedImageData(i){this.avatarPreview=i.imageUrl,this.formData[this.form.fields.find(d=>d.type=="photo").id]=i},onFormChange(){console.log(this.formData)},storeRecord(){console.log(this.form),console.log(this.formData),this.$refs.formRef.validateFields().then(()=>{this.$inertia.post(route("forms.store"),{form:this.form,fields:this.formData},{onSuccess:i=>{this.formData={}},onError:i=>{console.log(i)}})}).catch(i=>{console.log(i)})}}},V=m("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"表格管理",-1),A={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},E={class:"mt-8 p-4 bg-white dark:bg-gray-800 overflow-hidden shadow sm:rounded-lg"},O={class:"text-center"},z={id:"pure-html"},j=["innerHTML"],G={key:0},K={key:1},Q={key:2},X={key:3},Z={key:4},$={key:5},ee={key:6},te={key:7},ae={key:8},oe={key:9},re={key:10},le={key:11},ne={class:"flex flex-wrap mt-4 mb-6"},se={class:"w-full md:w-1/2 px-3"},ie={key:0},ue=["src"],me={key:1},de=["src"],_e={key:12},pe=m("p",null,"Data type undefined",-1),ce={class:"text-center pb-10"};function ve(i,d,c,he,t,g){const q=s("a-typography-title"),b=s("a-input"),u=s("a-form-item"),w=s("a-textarea"),U=s("quill-editor"),M=s("a-radio"),C=s("a-radio-group"),F=s("a-checkbox"),I=s("a-checkbox-group"),S=s("a-select"),L=s("a-switch"),f=s("a-date-picker"),D=s("a-button"),N=s("CropperModal"),T=s("a-form"),Y=s("WebLayout");return r(),v(Y,{title:"Dashboard"},{header:l(()=>[V]),default:l(()=>[m("div",A,[m("div",E,[m("div",O,[o(q,{level:3},{default:l(()=>[_(p(c.form.title),1)]),_:1})]),m("div",z,[m("div",{innerHTML:c.form.description},null,8,j)]),o(T,{model:t.formData,ref:"formRef",name:"default",layout:"vertical","validate-messages":t.validateMessages},{default:l(()=>[(r(!0),n(h,null,y(c.form.fields,e=>(r(),n(h,{key:e.id},[c.form.require_member?(r(),n("div",G,[o(u,{label:"Member Id",name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(b,{value:i.$page.props.user.id,"onUpdate:value":d[0]||(d[0]=a=>i.$page.props.user.id=a)},null,8,["value"])]),_:2},1032,["name","rules"])])):k("",!0),e.type=="input"?(r(),n("div",K,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(b,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a},null,8,["value","onUpdate:value"])]),_:2},1032,["label","name","rules"])])):e.type=="textarea"?(r(),n("div",Q,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(w,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a},null,8,["value","onUpdate:value"])]),_:2},1032,["label","name","rules"])])):e.type=="richtext"?(r(),n("div",X,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(U,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a,style:{"min-height":"200px"}},null,8,["value","onUpdate:value"])]),_:2},1032,["label","name","rules"])])):e.type=="radio"?(r(),n("div",Z,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(C,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a},{default:l(()=>[(r(!0),n(h,null,y(JSON.parse(e.options),a=>(r(),v(M,{key:a.id,style:x(e.direction=="H"?"":t.verticalStyle),value:a.value},{default:l(()=>[_(p(a.label),1)]),_:2},1032,["style","value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1032,["label","name","rules"])])):e.type=="checkbox"?(r(),n("div",$,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(I,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a},{default:l(()=>[(r(!0),n(h,null,y(JSON.parse(e.options),a=>(r(),v(F,{key:a.id,style:x(e.direction=="H"?"":t.verticalStyle),value:a.value},{default:l(()=>[_(p(a.label),1)]),_:2},1032,["style","value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1032,["label","name","rules"])])):e.type=="dropdown"?(r(),n("div",ee,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(S,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a,options:JSON.parse(e.options)},null,8,["value","onUpdate:value","options"])]),_:2},1032,["label","name","rules"])])):e.type=="true_false"?(r(),n("div",te,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(L,{checked:t.formData[e.id],"onUpdate:checked":a=>t.formData[e.id]=a},null,8,["checked","onUpdate:checked"])]),_:2},1032,["label","name","rules"])])):e.type=="date"?(r(),n("div",ae,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(f,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a,format:t.dateFormat,valueFormat:t.dateFormat},null,8,["value","onUpdate:value","format","valueFormat"])]),_:2},1032,["label","name","rules"])])):e.type=="datetime"?(r(),n("div",oe,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required}]},{default:l(()=>[o(f,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a,"show-time":"",format:t.dateTimeFormat,valueFormat:t.dateTimeFormat},null,8,["value","onUpdate:value","format","valueFormat"])]),_:2},1032,["label","name","rules"])])):e.type=="email"?(r(),n("div",re,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required},{type:"email"}]},{default:l(()=>[o(b,{value:t.formData[e.id],"onUpdate:value":a=>t.formData[e.id]=a},null,8,["value","onUpdate:value"])]),_:2},1032,["label","name","rules"])])):e.type=="photo"?(r(),n("div",le,[o(D,{onClick:d[1]||(d[1]=a=>t.showCropModal=!0)},{default:l(()=>[_(p(i.$t("upload_profile_image")),1)]),_:1}),t.showCropModal?(r(),v(N,{key:0,minAspectRatioProp:{width:8,height:8},maxAspectRatioProp:{width:8,height:8},onCroppedImageData:g.setCroppedImageData,onShowModal:d[2]||(d[2]=a=>t.showCropModal=!1)},null,8,["onCroppedImageData"])):k("",!0),m("div",ne,[m("div",se,[t.avatarPreview!==null?(r(),n("div",ie,[m("img",{src:t.avatarPreview},null,8,ue)])):(r(),n("div",me,[m("img",{src:t.formData[e.id]},null,8,de)]))])])])):(r(),n("div",_e,[o(u,{label:e.field_label,name:e.id,rules:[{required:e.required},{type:"email"}]},{default:l(()=>[pe]),_:2},1032,["label","name","rules"])]))],64))),128)),m("div",ce,[o(D,{onClick:g.storeRecord,type:"primary"},{default:l(()=>[_(p(i.$t("submit")),1)]),_:1},8,["onClick"])])]),_:1},8,["model","validate-messages"])])])]),_:1})}const Me=B(J,[["render",ve]]);export{Me as default};
