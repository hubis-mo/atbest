import{O as E}from"./OrganizationLayout-e59c3130.js";import{C as O,_ as x}from"./ImageUploadAdapter-1b833612.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{i,o as d,c as f,w as l,a as m,t as n,b as r,f as s,e as _,d as h,F as y}from"./app-78468d3b.js";import"./DropdownLink-c7da729b.js";import"./TeamOutlined-f908f4bf.js";import"./PieChartOutlined-7a16d42c.js";import"./FormOutlined-55ddf1ad.js";const I={components:{OrganizationLayout:E,ckeditor:O.component,UploadAdapter:x},props:["paper"],data(){return{dateFormat:"YYYY-MM-DD",modal:{isOpen:!1,data:{},title:"Modal",mode:""},columns:[{title:"Title",i18n:"title",dataIndex:"title"},{title:"correct",i18n:"correct",dataIndex:"correct"},{title:"answer",i18n:"answer",dataIndex:"answer"},{title:"Operation",i18n:"operation",dataIndex:"operation",key:"operation"}],rules:{category_code:{required:!0},classify_id:{required:!0},title_en:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){},mounted(){},methods:{createRecord(){this.modal.data={},this.modal.data.published=0,this.modal.mode="CREATE",this.modal.title="Create",this.modal.isOpen=!0},editRecord(e){this.modal.data={...e},this.modal.mode="EDIT",this.modal.isOpen=!0},storeRecord(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("manage.exams.store"),this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1},onError:e=>{console.log(e)}})}).catch(e=>{console.log(e)})},updateRecord(){console.log(this.modal.data),this.$refs.modalRef.validateFields().then(()=>{this.$inertia.put(route("manage.exams.update",this.modal.data.id),this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1,console.log(e)},onError:e=>{console.log(e)}})}).catch(e=>{console.log("error",e)})},deleteConfirmed(e){this.$inertia.delete(route("manage.exams.destroy",e.id),{onSuccess:t=>{console.log(t)},onError:t=>{console.log(t)}})},deleteRecord(e){confirm("Are you sure want to remove?")&&this.$inertia.delete(route("manage.exams.destroy",e),{onSuccess:t=>{console.log(t)},onError:t=>{console.log(t)}})},createLogin(e){console.log("create login"+e)},uploader(e){e.plugins.get("FileRepository").createUploadAdapter=t=>new x(t)}}},S={class:"font-semibold text-xl text-gray-800 leading-tight"},U={class:"flex-auto pb-3 text-right"},A={class:"container mx-auto pt-5"},D={class:"bg-white relative shadow rounded-lg overflow-x-auto"};function F(e,t,g,T,o,u){const p=i("a-button"),w=i("a-table"),v=i("a-input"),b=i("a-form-item"),C=i("a-form"),k=i("a-modal"),R=i("OrganizationLayout");return d(),f(R,{title:"Dashboard"},{header:l(()=>[m("h2",S,n(e.$t("answer")),1)]),default:l(()=>[m("p",null,"Exam taker: "+n(g.paper.user.name),1),m("p",null,"Score: "+n(g.paper.score),1),m("div",U,[r(p,{onClick:t[0]||(t[0]=a=>u.createRecord())},{default:l(()=>[s("Create")]),_:1})]),m("div",A,[m("div",D,[r(w,{dataSource:g.paper.answers,columns:o.columns},{headerCell:l(({column:a})=>[s(n(a.i18n?e.$t(a.i18n):a.title),1)]),bodyCell:l(({column:a,text:$,record:c,index:M})=>[a.dataIndex=="operation"?(d(),f(p,{key:0,onClick:B=>u.editRecord(c)},{default:l(()=>[s("Edit")]),_:2},1032,["onClick"])):_("",!0),a.dataIndex=="title"?(d(),h(y,{key:1},[s(n(c.question.title),1)],64)):_("",!0),a.dataIndex=="correct"?(d(),h(y,{key:2},[s(n(c.question.correct),1)],64)):(d(),h(y,{key:3},[s(n(c[a.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])])]),r(k,{visible:o.modal.isOpen,"onUpdate:visible":t[6]||(t[6]=a=>o.modal.isOpen=a),title:o.modal.title},{footer:l(()=>[o.modal.mode=="EDIT"?(d(),f(p,{key:"Update",type:"primary",onClick:t[4]||(t[4]=a=>u.updateRecord())},{default:l(()=>[s(n(e.$t("update")),1)]),_:1})):_("",!0),o.modal.mode=="CREATE"?(d(),f(p,{key:"Store",type:"primary",onClick:t[5]||(t[5]=a=>u.storeRecord())},{default:l(()=>[s(n(e.$t("add")),1)]),_:1})):_("",!0)]),default:l(()=>[r(C,{ref:"modalRef",model:o.modal.data,name:"Papers",layout:"vertical",autocomplete:"off",rules:o.rules,"validate-messages":o.validateMessages},{default:l(()=>[r(b,{label:e.$t("paper_id"),name:"paper_id"},{default:l(()=>[r(v,{value:o.modal.data.paper_id,"onUpdate:value":t[1]||(t[1]=a=>o.modal.data.paper_id=a)},null,8,["value"])]),_:1},8,["label"]),r(b,{label:e.$t("question_id"),name:"question_id"},{default:l(()=>[r(v,{value:o.modal.data.question_id,"onUpdate:value":t[2]||(t[2]=a=>o.modal.data.question_id=a)},null,8,["value"])]),_:1},8,["label"]),r(b,{label:e.$t("answer"),name:"answer"},{default:l(()=>[r(v,{value:o.modal.data.answer,"onUpdate:value":t[3]||(t[3]=a=>o.modal.data.answer=a)},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])]),_:1})}const G=q(I,[["render",F]]);export{G as default};
