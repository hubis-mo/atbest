import{M as k}from"./MemberLayout-005a6312.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{Z as S,i as r,o as i,c as l,w as s,a as o,t as n,d as h,h as p,e as I,b as c,F as _,f as g}from"./app-78468d3b.js";import{F as M}from"./FormOutlined-55ddf1ad.js";import{C as R,a as q,S as E}from"./SettingOutlined-a7ff1efc.js";import"./NavLink-d1da715f.js";import"./DropdownLink-c7da729b.js";import"./ResponsiveNavLink-51fcef62.js";const L={components:{MemberLayout:k,CalendarOutlined:S,FormOutlined:M,CheckSquareOutlined:R,CaretRightOutlined:q,SettingOutlined:E},props:["instances","members"],data(){return{expandIconPosition:"right",searchResult:[],selected:null,targetKeys:[],columns:[{title:"Category",i18n:"",dataIndex:"category"},{title:"Title",dataIndex:"title"},{title:"Credit",dataIndex:"credit"},{title:"Start date",dataIndex:"data_start"},{title:"End date",dataIndex:"date_end"},{title:"Operation",dataIndex:"operation",key:"operation"}],rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){this.searchResult=this.members},methods:{destroy(e){confirm("Are you sure to delete the attendance record?")&&this.$inertia.delete(route("member.event.attendances.destroy",{event:this.event.id,attendance:e.id}),{onSuccess:t=>{console.log(t)},onError:t=>{alert(t.message)}})},handleChange(e,t,d){console.log(e,t,d)},onCheck(){console.log(this.targetKeys)},onChangeStatus(e){this.$inertia.put(route("member.event.attendances.update",{event:this.event.id,attendance:e.id}),e,{onSuccess:t=>{console.log(t)},onError:t=>{alert(t.message)}}),console.log(e)},handleChange(e){console.log(e),this.selected=e},handleSearch(e){console.log(e),e==""?this.searchResult=this.members:this.searchResult=this.members.filter(t=>t.given_name.includes(e))},addAttendance(){const e={member_id:this.selected,status:"ATT"};this.$inertia.post(route("member.event.attendances.store",this.event.id),e,{onSuccess:t=>{console.log(t)},onError:t=>{alert(t.message)}})}}},T={class:"font-semibold text-xl text-gray-800 leading-tight"},w=o("p",null,null,-1),A=["innerHTML"];function B(e,t,d,F,b,N){const f=r("CalendarOutlined"),C=r("CaretRightOutlined"),u=r("inertia-link"),$=r("a-collapse-panel"),y=r("a-collapse"),v=r("MemberLayout");return i(),l(v,{title:"Dashboard"},{header:s(()=>[o("h2",T,n(e.$t("Events")),1)]),default:s(()=>[w,(i(!0),h(_,null,p(d.instances,(x,m)=>(i(),l(y,{"expand-icon-position":b.expandIconPosition},{expandIcon:s(({isActive:a})=>[m=="events"?(i(),l(f,{key:0,style:{color:"darkgreen"}})):I("",!0),c(C,{rotate:a?90:0},null,8,["rotate"])]),default:s(()=>[(i(!0),h(_,null,p(x,a=>(i(),l($,{key:m,header:a.title_en},{extra:s(()=>[c(u,{href:e.route("member.event.attendees.scan",a.id),class:"ant-btn"},{default:s(()=>[g(n(e.$t("scan")),1)]),_:2},1032,["href"]),c(u,{href:e.route("member.event.attendees.index",a.id),class:"ant-btn"},{default:s(()=>[g(n(e.$t("tick")),1)]),_:2},1032,["href"])]),default:s(()=>[o("p",null,n(e.$t("title"))+": "+n(a.title_en),1),o("p",null,n(e.$t("start_date"))+": "+n(a.start_date),1),o("p",null,n(e.$t("end_date"))+": "+n(a.end_date),1),o("p",null,n(e.$t("credit"))+": "+n(a.credit),1),o("div",{innerHTML:a.description},null,8,A)]),_:2},1032,["header"]))),128))]),_:2},1032,["expand-icon-position"]))),256))]),_:1})}const G=O(L,[["render",B]]);export{G as default};
