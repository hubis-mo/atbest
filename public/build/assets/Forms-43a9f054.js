import{O as x}from"./OrganizationLayout-e59c3130.js";import{q as I}from"./index-d20420be.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{U as v}from"./UploadOutlined-e5283a52.js";import{a3 as N,a2 as w,J as R,i as m,o as r,c as g,w as o,a as u,b as l,f as i,t as a,d,e as q,F as p}from"./app-78468d3b.js";import{R as E}from"./RestFilled-9a3a2187.js";import"./DropdownLink-c7da729b.js";import"./TeamOutlined-f908f4bf.js";import"./PieChartOutlined-7a16d42c.js";import"./FormOutlined-55ddf1ad.js";const F={components:{OrganizationLayout:x,UploadOutlined:v,LoadingOutlined:N,PlusOutlined:w,RestFilled:E,quillEditor:I,message:R},props:["organization","forms"],data(){return{breadcrumb:[{label:"表格列表",url:null}],loading:!1,imageUrl:null,modal:{isOpen:!1,data:{},title:"Modal",mode:""},columns:[{title:"Name",i18n:"name",dataIndex:"name"},{title:"Title",i18n:"title",dataIndex:"title"},{title:"Require_login",i18n:"require_login",dataIndex:"require_login",type:"yesno"},{title:"Published",i18n:"published",dataIndex:"published",type:"yesno"},{title:"Entries",i18n:"entries",dataIndex:"entries",key:"entries"},{title:"Operation",i18n:"operation",dataIndex:"operation",key:"operation"}]}},created(){},methods:{deleteConfirmed(e){console.log("delete"),console.log(e),this.$inertia.delete(route("manage.forms.destroy",{form:e.id}),{onSuccess:s=>{console.log(s)},onError:s=>{alert(s.message)}})},backupRecords(e){confirm("Do you sure want to backup?")&&this.$inertia.post(route("manage.form.backup",e.id),{onSuccess:s=>{console.log(s)},onError:s=>{alert(s.message)}})}}},S={class:"flex-auto pb-3 text-right"},z={class:"container mx-auto pt-5"},B={class:"bg-white relative shadow rounded-lg overflow-x-auto"},L=["href"],V={key:0},T={key:1},U=u("p",null,"From CAN NOT be delete, if Response is not empty.",-1);function D(e,s,h,P,c,_){const f=m("inertia-link"),b=m("a-button"),y=m("a-popconfirm"),k=m("a-table"),$=m("OrganizationLayout");return r(),g($,{title:"表格",breadcrumb:c.breadcrumb},{default:o(()=>[u("div",S,[l(f,{href:e.route("manage.forms.create"),class:"ant-btn ant-btn-primary !rounded"},{default:o(()=>[i(a(e.$t("create_form")),1)]),_:1},8,["href"])]),u("div",z,[u("div",B,[l(k,{dataSource:h.forms,columns:c.columns},{headerCell:o(({column:n})=>[i(a(n.i18n?e.$t(n.i18n):n.title),1)]),bodyCell:o(({column:n,text:A,record:t,index:J})=>[n.dataIndex=="operation"?(r(),d(p,{key:0},[l(f,{href:e.route("manage.form.entries.index",{form:t.id}),class:"ant-btn"},{default:o(()=>[i(a(e.$t("applications")),1)]),_:2},1032,["href"]),u("a",{href:e.route("manage.entry.export",{form:t.id}),class:"ant-btn"},a(e.$t("export")),9,L),l(f,{href:e.route("manage.form.fields.index",{form:t.id}),class:"ant-btn"},{default:o(()=>[i(a(e.$t("data_fields")),1)]),_:2},1032,["href"]),l(f,{href:e.route("manage.forms.edit",t.id),class:"ant-btn"},{default:o(()=>[i(a(e.$t("edit")),1)]),_:2},1032,["href"]),l(y,{title:e.$t("confirm_delete_record"),"ok-text":e.$t("yes"),"cancel-text":e.$t("no"),onConfirm:C=>_.deleteConfirmed(t),disabled:t.entries_count>0},{default:o(()=>[l(b,{disabled:t.entries_count>0},{default:o(()=>[i(a(e.$t("delete")),1)]),_:2},1032,["disabled"])]),_:2},1032,["title","ok-text","cancel-text","onConfirm","disabled"]),t.entries_count>0?(r(),g(b,{key:0,onClick:C=>_.backupRecords(t)},{default:o(()=>[i(a(e.$t("backup")),1)]),_:2},1032,["onClick"])):q("",!0)],64)):n.type=="yesno"?(r(),d(p,{key:1},[t[n.dataIndex]==1?(r(),d("span",V,a(e.$t("yes")),1)):(r(),d("span",T,a(e.$t("no")),1))],64)):n.dataIndex=="entries"?(r(),d(p,{key:2},[i(a(t.entries_count),1)],64)):(r(),d(p,{key:3},[i(a(t[n.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])]),U])]),_:1},8,["breadcrumb"])}const ee=O(F,[["render",D]]);export{ee as default};
