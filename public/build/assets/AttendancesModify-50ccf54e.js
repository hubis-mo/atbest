import{M as C}from"./MemberLayout-005a6312.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{i,o as d,c as b,w as n,a as E,t as o,b as r,f as s,d as p,F as v}from"./app-78468d3b.js";import"./NavLink-d1da715f.js";import"./DropdownLink-c7da729b.js";import"./ResponsiveNavLink-51fcef62.js";const I={components:{MemberLayout:C},props:["event","members"],data(){return{selected:null,targetKeys:[],columns:[{title:"Event title",dataIndex:"member"},{title:"Start date",dataIndex:"status"},{title:"End date",dataIndex:"use_id"},{title:"Operation",dataIndex:"operation",key:"operation"}],rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){Object.entries(this.event.attendances).forEach(([e,t])=>{this.targetKeys.push(t.member.id.toString())}),Object.entries(this.members).forEach(([e,t])=>{this.members[e].key=t.id.toString()})},methods:{handleChange(e,t,u){console.log(e,t,u)},onCheck(){console.log(this.targetKeys)},onChangeStatus(e){this.$inertia.put(route("member.event.attendances.update",{event:e.event_id,attendance:e.id}),e,{onSuccess:t=>{console.log(t)},onError:t=>{alert(t.message)}}),console.log(e)}}},M={class:"font-semibold text-xl text-gray-800 leading-tight"};function q(e,t,u,w,m,h){const g=i("a-select"),f=i("a-button"),y=i("inertia-link"),c=i("a-radio-button"),k=i("a-radio-group"),x=i("a-table"),$=i("MemberLayout");return d(),b($,{title:"Dashboard"},{header:n(()=>[E("h2",M,o(e.$t("events")),1)]),default:n(()=>[r(g,{value:m.selected,"onUpdate:value":t[0]||(t[0]=a=>m.selected=a),options:u.members,fieldNames:{value:"id",label:"given_name"},style:{width:"100px"}},null,8,["value","options"]),r(f,null,{default:n(()=>[s(o(e.$t("scan")),1)]),_:1}),r(x,{dataSource:u.event.attendances,columns:m.columns},{headerCell:n(({column:a})=>[s(o(a.i18n?e.$t(a.i18n):a.title),1)]),bodyCell:n(({column:a,text:A,record:l,index:B})=>[a.dataIndex=="operation"?(d(),b(y,{key:0,href:e.route("member.event.attendances.destroy",{event:l.event_id,attendance:l.id}),class:"ant-btn"},{default:n(()=>[s(o(e.$t("delete")),1)]),_:2},1032,["href"])):a.dataIndex=="member"?(d(),p(v,{key:1},[s(o(l.member.given_name),1)],64)):a.dataIndex=="status"?(d(),b(k,{key:2,value:l.status,"onUpdate:value":_=>l.status=_,"button-style":"solid",onChange:_=>h.onChangeStatus(l)},{default:n(()=>[r(c,{value:"ATT"},{default:n(()=>[s(o(e.$t("attend")),1)]),_:1}),r(c,{value:"lATE"},{default:n(()=>[s(o(e.$t("be_late")),1)]),_:1}),r(c,{value:"EARLY"},{default:n(()=>[s(o(e.$t("leave_early")),1)]),_:1})]),_:2},1032,["value","onUpdate:value","onChange"])):(d(),p(v,{key:3},[s(o(l[a.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])]),_:1})}const V=S(I,[["render",q]]);export{V as default};
