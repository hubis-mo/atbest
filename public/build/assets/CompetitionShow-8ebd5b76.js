import{_ as x}from"./WebLayout-0d81791d.js";import{I as M,J as L,M as T,i as m,o as u,d as g,b as l,w as a,F as v,a as p,f as d,t as r,K as B,h as f,c as y,k as w,e as D}from"./app-78468d3b.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-51fcef62.js";const Y={components:{WebLayout:x,dayjs:M,message:L,Modal:T},props:["member","competition"],data(){return{modal:{isOpen:!1,title:"Application Failed",content:"Error message"},mode:null,dateFormat:"YYYY-MM-DD",dateList:["2023-01-02"],application:{},rules:{given_name:{required:!0},family_name:{required:!0},display_name:{required:!0},dob:{required:!0},gender:{required:!0},category:{required:!0},weight:{required:!0},role:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},layout:{labelCol:{span:8},wrapperCol:{span:16}},virticalStyle:{display:"flex",height:"30px",lineHeight:"30px",marginLeft:"8px"}}},mounted(){this.application.competition_id=this.competition.id,this.member&&(this.application.member_id=this.member.id,this.application.given_name=this.member.given_name,this.application.family_name=this.member.family_name,this.application.middle_name=this.member.middle_name,this.application.display_name=this.member.display_name,this.application.gender=this.member.gender,this.application.dob=this.member.dob,this.application.email=this.member.email,this.application.mobile=this.member.mobile)},created(){},methods:{onGenderChange(o){console.log(o),this.application.category&&(console.log("ok"),this.weightSelection(o.target.value,this.application.category))},onCategoryChange(o){console.log(o),this.application.gender&&(console.log("ok"),this.weightSelection(this.application.gender,o.target.value))},weightSelection(o,i){o=="M"?this.competition.weights=this.competition.categories_weights.find(n=>n.code==i).male:this.competition.weights=this.competition.categories_weights.find(n=>n.code==i).female},onFinish(){this.modal.content="test",this.modal.isOpen=!0}}},N=p("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," 表格例表 ",-1),V={class:"py-12"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"p-5 bg-white overflow-hidden shadow-xl sm:rounded-lg"},j={id:"pure-html"},E=["innerHTML"],G={class:"flex flex-row item-center justify-center"},P=p("p",null,"This is the testing page.",-1),z=p("p",null,"The application form pass the test.",-1),A=p("p",null,"You are ready to publish the application form of the competition.",-1);function I(o,i,n,J,e,h){const C=m("a-typography-title"),_=m("a-input"),s=m("a-form-item"),F=m("a-date-picker"),c=m("a-radio"),b=m("a-radio-group"),U=m("a-button"),k=m("a-form"),S=m("WebLayout"),q=m("a-modal");return u(),g(v,null,[l(S,{title:"Dashboard"},{header:a(()=>[N]),default:a(()=>[p("div",V,[p("div",H,[p("div",W,[l(C,{level:3,class:"text-center"},{default:a(()=>[d(r(n.competition.title_fn),1)]),_:1}),l(C,{level:4},{default:a(()=>[d("Date: "+r(n.competition.start_date)+" - "+r(n.competition.end_date),1)]),_:1}),p("div",j,[p("div",{innerHTML:n.competition.description},null,8,E)]),l(k,B({model:e.application},e.layout,{name:"nest-messages","validate-messages":e.validateMessages,layout:"vertical",rules:e.rules,onFinish:h.onFinish}),{default:a(()=>[l(s,{label:o.$t("given_name"),name:"given_name"},{default:a(()=>[l(_,{value:e.application.given_name,"onUpdate:value":i[0]||(i[0]=t=>e.application.given_name=t)},null,8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("family_name"),name:"family_name"},{default:a(()=>[l(_,{value:e.application.family_name,"onUpdate:value":i[1]||(i[1]=t=>e.application.family_name=t)},null,8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("middle_name"),name:"middle_name"},{default:a(()=>[l(_,{value:e.application.middle_name,"onUpdate:value":i[2]||(i[2]=t=>e.application.middle_name=t)},null,8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("display_name"),name:"display_name"},{default:a(()=>[l(_,{value:e.application.display_name,"onUpdate:value":i[3]||(i[3]=t=>e.application.display_name=t)},null,8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("dob"),name:"dob"},{default:a(()=>[l(F,{value:e.application.dob,"onUpdate:value":i[4]||(i[4]=t=>e.application.dob=t),format:e.dateFormat,valueFormat:e.dateFormat},null,8,["value","format","valueFormat"])]),_:1},8,["label"]),l(s,{label:o.$t("gender"),name:"gender"},{default:a(()=>[l(b,{value:e.application.gender,"onUpdate:value":i[5]||(i[5]=t=>e.application.gender=t),onChange:h.onGenderChange},{default:a(()=>[l(c,{value:"M"},{default:a(()=>[d(r(o.$t("male")),1)]),_:1}),l(c,{value:"F"},{default:a(()=>[d(r(o.$t("female")),1)]),_:1})]),_:1},8,["value","onChange"])]),_:1},8,["label"]),l(s,{label:o.$t("email"),name:"email"},{default:a(()=>[l(_,{value:e.application.email,"onUpdate:value":i[6]||(i[6]=t=>e.application.email=t)},null,8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("mobile_number"),name:"mobile"},{default:a(()=>[l(_,{value:e.application.mobile,"onUpdate:value":i[7]||(i[7]=t=>e.application.mobile=t)},null,8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("role"),name:"role"},{default:a(()=>[l(b,{value:e.application.role,"onUpdate:value":i[8]||(i[8]=t=>e.application.role=t)},{default:a(()=>[(u(!0),g(v,null,f(n.competition.roles,t=>(u(),y(c,{style:w(e.virticalStyle),value:t.value},{default:a(()=>[d(r(t.label),1)]),_:2},1032,["style","value"]))),256))]),_:1},8,["value"])]),_:1},8,["label"]),e.application.role=="athlete"&&e.application.gender?(u(),g(v,{key:0},[l(s,{label:o.$t("category"),name:"category"},{default:a(()=>[l(b,{value:e.application.category,"onUpdate:value":i[9]||(i[9]=t=>e.application.category=t)},{default:a(()=>[(u(!0),g(v,null,f(n.competition.categories_weights,t=>(u(),y(c,{style:w(e.virticalStyle),value:t.code,onChange:h.onCategoryChange},{default:a(()=>[d(r(t.name),1)]),_:2},1032,["style","value","onChange"]))),256))]),_:1},8,["value"])]),_:1},8,["label"]),l(s,{label:o.$t("weight"),name:"weight"},{default:a(()=>[l(b,{value:e.application.weight,"onUpdate:value":i[10]||(i[10]=t=>e.application.weight=t)},{default:a(()=>[(u(!0),g(v,null,f(n.competition.weights,t=>(u(),y(c,{style:w(e.virticalStyle),value:t.code},{default:a(()=>[d(r(t.name),1)]),_:2},1032,["style","value"]))),256))]),_:1},8,["value"])]),_:1},8,["label"])],64)):D("",!0),p("div",G,[l(U,{type:"primary","html-type":"submit"},{default:a(()=>[d(r(o.$t("submit")),1)]),_:1})])]),_:1},16,["model","validate-messages","rules","onFinish"])])])])]),_:1}),l(q,{visible:e.modal.isOpen,"onUpdate:visible":i[11]||(i[11]=t=>e.modal.isOpen=t),title:e.modal.title,okButtonProps:{style:"display:none"},cancelText:"Ok"},{default:a(()=>[P,z,A]),_:1},8,["visible","title"])],64)}const Z=O(Y,[["render",I]]);export{Z as default};
